import{a4 as I,a5 as R,a6 as X,y as _,a7 as q,o as L,a8 as O,a9 as H,aa as K,ab as W,ac as J,r as y,z as Y,v as Z,A as P,B as o,b as a,w as i,E,G as $,H as c,ad as A,d as p,D as w,c as B,V as ee,K as le,L as ae,W as M,N as V,X as oe,f as x,l as te,i as z,P as j,F as re,O as se,x as C,C as T}from"./index-DVpeUCJe.js";const h=I({name:"QBreadcrumbsEl",props:{...R,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(n,{slots:d}){const{linkTag:b,linkAttrs:u,linkClass:v,navigateOnClick:g}=X(),r=_(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(n.disable!==!0?"q-link--focusable"+v.value:"q-breadcrumbs__el--disable"),...u.value,onClick:g})),f=_(()=>"q-breadcrumbs__el-icon"+(n.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const t=[];return n.icon!==void 0&&t.push(q(L,{class:f.value,name:n.icon})),n.label!==void 0&&t.push(n.label),q(b.value,{...r.value},O(d.default,t))}}}),ie=["",!0],ne=I({name:"QBreadcrumbs",props:{...H,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:n=>["none","xs","sm","md","lg","xl"].includes(n),default:"sm"}},setup(n,{slots:d}){const b=K(n),u=_(()=>`flex items-center ${b.value}${n.gutter==="none"?"":` q-gutter-${n.gutter}`}`),v=_(()=>n.separatorColor?` text-${n.separatorColor}`:""),g=_(()=>` text-${n.activeColor}`);return()=>{if(d.default===void 0)return;const r=W(J(d.default));if(r.length===0)return;let f=1;const t=[],Q=r.filter(m=>m.type!==void 0&&m.type.name==="QBreadcrumbsEl").length,D=d.separator!==void 0?d.separator:()=>n.separator;return r.forEach(m=>{if(m.type!==void 0&&m.type.name==="QBreadcrumbsEl"){const k=f<Q,U=m.props!==null&&ie.includes(m.props.disable),S=(k===!0?"":" q-breadcrumbs--last")+(U!==!0&&k===!0?g.value:"");f++,t.push(q("div",{class:`flex items-center${S}`},[m])),k===!0&&t.push(q("div",{class:"q-breadcrumbs__separator"+v.value},D()))}else t.push(m)}),q("div",{class:"q-breadcrumbs"},[q("div",{class:u.value},t)])}}}),de={class:"q-pa-md"},ue={class:"row items-center q-mb-md"},ce={class:"col-auto"},me={class:"row q-col-gutter-md"},ve={class:"col-12 col-md-4"},pe={class:"row q-col-gutter-sm"},be={class:"col-12 col-sm-6"},ge={class:"col-12 col-sm-6"},fe={class:"row justify-end"},ye={class:"col-12 col-md-8"},Ve={key:0,class:"text-center q-pa-lg"},Ce={class:"row items-center"},Ee={class:"col"},qe={class:"text-h6"},ke={class:"col-auto"},we={class:"text-body1"},xe={key:0,class:"row q-mt-md"},_e={class:"q-mb-md"},Pe={class:"row q-col-gutter-sm"},Qe={class:"col-12 col-sm-6"},De={class:"col-12 col-sm-6"},Ue={class:"row justify-end q-mt-md"},Be={__name:"Direcciones",setup(n){const d=Z(),b=y(!0),u=y([]),v=y(!1),g=y(!1),r=y({}),f=y(null),t=y({nombre:"",calle:"",colonia:"",ciudad:"",estado:"",codigoPostal:"",telefono:"",predeterminada:!1});Y(async()=>{await Q()});const Q=async()=>{b.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),u.value=[{id:"1",nombre:"Casa",calle:"Av. Principal 123",colonia:"Centro",ciudad:"Ciudad de México",estado:"CDMX",codigoPostal:"06000",telefono:"5512345678",predeterminada:!0},{id:"2",nombre:"Trabajo",calle:"Calle Reforma 456",colonia:"Polanco",ciudad:"Ciudad de México",estado:"CDMX",codigoPostal:"11550",telefono:"5587654321",predeterminada:!1}]}catch(s){console.error("Error al cargar direcciones:",s),d.notify({message:"Error al cargar tus direcciones",color:"negative",icon:"error"})}finally{b.value=!1}},D=async()=>{try{await new Promise(e=>setTimeout(e,500)),t.value.predeterminada&&u.value.forEach(e=>{e.predeterminada=!1});const s={id:Date.now().toString(),...t.value};u.value.push(s),t.value={nombre:"",calle:"",colonia:"",ciudad:"",estado:"",codigoPostal:"",telefono:"",predeterminada:!1},d.notify({message:"Dirección guardada correctamente",color:"positive",icon:"check_circle"})}catch(s){console.error("Error al guardar dirección:",s),d.notify({message:"Error al guardar la dirección",color:"negative",icon:"error"})}},m=s=>{r.value={...s},v.value=!0},k=async()=>{try{await new Promise(e=>setTimeout(e,500)),r.value.predeterminada&&u.value.forEach(e=>{e.id!==r.value.id&&(e.predeterminada=!1)});const s=u.value.findIndex(e=>e.id===r.value.id);s!==-1&&(u.value[s]={...r.value}),v.value=!1,d.notify({message:"Dirección actualizada correctamente",color:"positive",icon:"check_circle"})}catch(s){console.error("Error al actualizar dirección:",s),d.notify({message:"Error al actualizar la dirección",color:"negative",icon:"error"})}},U=s=>{f.value=s,g.value=!0},S=async()=>{try{await new Promise(s=>setTimeout(s,500)),u.value=u.value.filter(s=>s.id!==f.value.id),d.notify({message:"Dirección eliminada correctamente",color:"positive",icon:"check_circle"})}catch(s){console.error("Error al eliminar dirección:",s),d.notify({message:"Error al eliminar la dirección",color:"negative",icon:"error"})}},F=async s=>{try{await new Promise(e=>setTimeout(e,500)),u.value.forEach(e=>{e.predeterminada=e.id===s.id}),d.notify({message:"Dirección predeterminada actualizada",color:"positive",icon:"check_circle"})}catch(e){console.error("Error al actualizar dirección predeterminada:",e),d.notify({message:"Error al actualizar la dirección predeterminada",color:"negative",icon:"error"})}};return(s,e)=>(C(),P("div",de,[o("div",ue,[e[18]||(e[18]=o("div",{class:"col"},[o("h4",{class:"q-my-none"},"Mis Direcciones")],-1)),o("div",ce,[a(ne,null,{default:i(()=>[a(h,{label:"Inicio",to:"/"}),a(h,{label:"Mis direcciones"})]),_:1})])]),o("div",me,[o("div",ve,[a(w,{class:"q-mb-md"},{default:i(()=>[a(E,null,{default:i(()=>e[19]||(e[19]=[o("div",{class:"text-h6"},"Añadir nueva dirección",-1)])),_:1}),a(E,null,{default:i(()=>[a($,{onSubmit:D,class:"q-gutter-md"},{default:i(()=>[a(c,{modelValue:t.value.nombre,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.nombre=l),label:"Nombre de la dirección (ej. Casa, Trabajo)",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:t.value.calle,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.calle=l),label:"Calle y número",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:t.value.colonia,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.colonia=l),label:"Colonia",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),o("div",pe,[o("div",be,[a(c,{modelValue:t.value.ciudad,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.ciudad=l),label:"Ciudad",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"])]),o("div",ge,[a(c,{modelValue:t.value.estado,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.estado=l),label:"Estado",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"])])]),a(c,{modelValue:t.value.codigoPostal,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.codigoPostal=l),label:"Código Postal",outlined:"",type:"number",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:t.value.telefono,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.telefono=l),label:"Teléfono de contacto",outlined:"",type:"tel",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(A,{modelValue:t.value.predeterminada,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.predeterminada=l),label:"Establecer como dirección predeterminada"},null,8,["modelValue"]),o("div",fe,[a(p,{label:"Guardar dirección",type:"submit",color:"primary"})])]),_:1})]),_:1})]),_:1})]),o("div",ye,[b.value?(C(),P("div",Ve,[a(ee,{color:"primary",size:"3em"}),e[20]||(e[20]=o("div",{class:"q-mt-sm"},"Cargando tus direcciones...",-1))])):u.value.length>0?(C(!0),P(le,{key:1},ae(u.value,(l,G)=>(C(),B(w,{key:G,class:"q-mb-md"},{default:i(()=>[a(E,null,{default:i(()=>[o("div",Ce,[o("div",Ee,[o("div",qe,V(l.nombre),1),l.predeterminada?(C(),B(oe,{key:0,color:"primary",class:"q-ml-sm"},{default:i(()=>e[21]||(e[21]=[x(" Predeterminada ")])),_:1})):M("",!0)]),o("div",ke,[a(p,{flat:"",round:"",size:"sm",color:"grey",icon:"edit",onClick:N=>m(l)},null,8,["onClick"]),a(p,{flat:"",round:"",size:"sm",color:"grey",icon:"delete",onClick:N=>U(l)},null,8,["onClick"])])]),a(te,{class:"q-my-md"}),o("div",we,[x(V(l.calle),1),e[22]||(e[22]=o("br",null,null,-1)),x(" "+V(l.colonia),1),e[23]||(e[23]=o("br",null,null,-1)),x(" "+V(l.ciudad)+", "+V(l.estado)+", CP "+V(l.codigoPostal),1),e[24]||(e[24]=o("br",null,null,-1)),x(" Tel: "+V(l.telefono),1)]),l.predeterminada?M("",!0):(C(),P("div",xe,[a(p,{flat:"",color:"primary",label:"Establecer como predeterminada",onClick:N=>F(l)},null,8,["onClick"])]))]),_:2},1024)]),_:2},1024))),128)):(C(),B(w,{key:2,class:"text-center q-pa-lg"},{default:i(()=>[o("div",_e,[a(L,{name:"location_on",size:"6em",color:"grey-4"})]),e[25]||(e[25]=o("div",{class:"text-h6"},"No tienes direcciones guardadas",-1)),e[26]||(e[26]=o("div",{class:"text-body1 q-mt-sm"},"Añade una dirección para facilitar tus compras.",-1))]),_:1}))])]),a(j,{modelValue:v.value,"onUpdate:modelValue":e[16]||(e[16]=l=>v.value=l),persistent:""},{default:i(()=>[a(w,{style:{"min-width":"350px"}},{default:i(()=>[a(E,null,{default:i(()=>e[27]||(e[27]=[o("div",{class:"text-h6"},"Editar dirección",-1)])),_:1}),a(E,{class:"q-pt-none"},{default:i(()=>[a($,{onSubmit:k,class:"q-gutter-md"},{default:i(()=>[a(c,{modelValue:r.value.nombre,"onUpdate:modelValue":e[8]||(e[8]=l=>r.value.nombre=l),label:"Nombre de la dirección",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:r.value.calle,"onUpdate:modelValue":e[9]||(e[9]=l=>r.value.calle=l),label:"Calle y número",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:r.value.colonia,"onUpdate:modelValue":e[10]||(e[10]=l=>r.value.colonia=l),label:"Colonia",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),o("div",Pe,[o("div",Qe,[a(c,{modelValue:r.value.ciudad,"onUpdate:modelValue":e[11]||(e[11]=l=>r.value.ciudad=l),label:"Ciudad",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"])]),o("div",De,[a(c,{modelValue:r.value.estado,"onUpdate:modelValue":e[12]||(e[12]=l=>r.value.estado=l),label:"Estado",outlined:"",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"])])]),a(c,{modelValue:r.value.codigoPostal,"onUpdate:modelValue":e[13]||(e[13]=l=>r.value.codigoPostal=l),label:"Código Postal",outlined:"",type:"number",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(c,{modelValue:r.value.telefono,"onUpdate:modelValue":e[14]||(e[14]=l=>r.value.telefono=l),label:"Teléfono de contacto",outlined:"",type:"tel",rules:[l=>!!l||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),a(A,{modelValue:r.value.predeterminada,"onUpdate:modelValue":e[15]||(e[15]=l=>r.value.predeterminada=l),label:"Establecer como dirección predeterminada"},null,8,["modelValue"]),o("div",Ue,[z(a(p,{label:"Cancelar",color:"grey",flat:""},null,512),[[T]]),a(p,{label:"Guardar",type:"submit",color:"primary",class:"q-ml-sm"})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(j,{modelValue:g.value,"onUpdate:modelValue":e[17]||(e[17]=l=>g.value=l)},{default:i(()=>[a(w,null,{default:i(()=>[a(E,{class:"row items-center"},{default:i(()=>[a(re,{icon:"delete",color:"negative","text-color":"white"}),e[28]||(e[28]=o("span",{class:"q-ml-sm"},"¿Estás seguro de que deseas eliminar esta dirección?",-1))]),_:1}),a(se,{align:"right"},{default:i(()=>[z(a(p,{flat:"",label:"Cancelar",color:"primary"},null,512),[[T]]),z(a(p,{flat:"",label:"Eliminar",color:"negative",onClick:S},null,512),[[T]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{Be as default};
